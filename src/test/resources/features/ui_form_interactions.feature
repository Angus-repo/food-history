# language: zh-TW
@ui
功能: 前端表單驗證和互動測試
  作為一個使用者
  我想要在提交前看到表單驗證錯誤
  以便正確填寫表單資料

  場景: 新增食物表單必填欄位驗證
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我點擊提交按鈕但未填寫任何欄位
    那麼 應該顯示載入狀態
    而且 表單應該顯示驗證錯誤

  場景: 表單提交時顯示載入狀態
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫有效的食物資料:
      | name      | carbGrams |
      | 白米飯    | 28.0      |
    而且 我點擊提交按鈕
    那麼 應該顯示載入覆蓋層
    而且 載入覆蓋層應該包含 "處理中..." 文字

  場景: 表單驗證 - 只填寫系數欄位
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫食物名稱 "蘋果"
    而且 我填寫系數欄位 "0.14"
    而且 我點擊提交按鈕
    那麼 表單應該成功提交
    而且 應該跳轉到食物列表頁面

  場景: 表單驗證 - 只填寫碳水化合物欄位
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫食物名稱 "香蕉"
    而且 我填寫碳水化合物欄位 "27.5"
    而且 我點擊提交按鈕
    那麼 表單應該成功提交
    而且 應該跳轉到食物列表頁面

  場景: 表單驗證 - 同時填寫系數和碳水化合物
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫食物名稱 "全麥麵包"
    而且 我填寫系數欄位 "0.45"
    而且 我填寫碳水化合物欄位 "45.0"
    而且 我點擊提交按鈕
    那麼 表單應該成功提交
    而且 應該跳轉到食物列表頁面

  場景: 表單驗證 - 兩個欄位都不填寫應該顯示錯誤
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫食物名稱 "測試食物"
    而且 我點擊提交按鈕
    那麼 表單應該顯示驗證錯誤
    而且 應該顯示錯誤訊息 "請至少填寫系數或碳水化合物其中一項"
