# language: zh-TW
功能: 食物圖片上傳和管理
  作為一個使用者
  我想要能夠為食物上傳、查看和刪除圖片
  以便更容易識別不同的食物

  場景: ˝
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 101 | 白米飯   | 28.0      |
    當 我訪問食物編輯頁面 ID 為 101
    而且 我上傳一個 JPEG 格式的圖片
    而且 我提交食物表單
    那麼 我應該看到成功訊息 "食物資料已成功儲存"
    而且 食物 101 應該有圖片

  場景: 上傳有效的 PNG 圖片
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 201 | 蘋果     | 14.0      |
    當 我訪問食物編輯頁面 ID 為 201
    而且 我上傳一個 PNG 格式的圖片
    而且 我提交食物表單
    那麼 我應該看到成功訊息 "食物資料已成功儲存"
    而且 食物 201 應該有圖片

  場景: 上傳有效的 GIF 圖片
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 301 | 香蕉     | 23.0      |
    當 我訪問食物編輯頁面 ID 為 301
    而且 我上傳一個 GIF 格式的圖片
    而且 我提交食物表單
    那麼 我應該看到成功訊息 "食物資料已成功儲存"
    而且 食物 301 應該有圖片

  場景: 上傳無效的檔案格式
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 401 | 麵包     | 50.0      |
    當 我訪問食物編輯頁面 ID 為 401
    而且 我上傳一個 TXT 文字檔案
    而且 我提交食物表單
    那麼 我應該看到錯誤訊息 "只支援 JPEG、PNG 或 GIF 格式的圖片"
    而且 食物 401 不應該有圖片

  場景: 更換食物的圖片
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 501 | 巧克力   | 50.0      |
    當 我訪問食物編輯頁面 ID 為 501
    而且 我上傳一個 JPEG 格式的圖片
    而且 我提交食物表單
    那麼 食物 501 應該有圖片
    當 我訪問食物編輯頁面 ID 為 501
    而且 我上傳一個 PNG 格式的圖片
    而且 我提交食物表單
    那麼 食物 501 應該有圖片
    而且 食物 501 的圖片類型應該是 "image/png"

  場景: 移除食物的圖片
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 601 | 可樂     | 39.0      |
    當 我訪問食物編輯頁面 ID 為 601
    而且 我上傳一個 JPEG 格式的圖片
    而且 我提交食物表單
    那麼 食物 601 應該有圖片
    當 我訪問食物編輯頁面 ID 為 601
    而且 我選擇移除圖片
    而且 我提交食物表單
    那麼 我應該看到成功訊息 "食物資料已成功儲存"
    而且 食物 601 不應該有圖片

  場景: 編輯食物時不上傳圖片保留原有圖片
    假如 我已登入系統
    而且 資料庫中有以下食物:
      | id  | name     | carbGrams |
      | 701 | 牛奶     | 12.0      |
    當 我訪問食物編輯頁面 ID 為 701
    而且 我上傳一個 JPEG 格式的圖片
    而且 我提交食物表單
    那麼 食物 701 應該有圖片
    當 我訪問食物編輯頁面 ID 為 701
    而且 我修改食物資訊:
      | 欄位         | 值       |
      | name         | 全脂牛奶 |
    而且 我提交食物表單
    那麼 食物 701 應該有圖片
    而且 資料庫中的食物 701 名稱應該是 "全脂牛奶"

  場景: 新增食物時同時上傳圖片
    假如 我已登入系統
    當 我訪問新增食物頁面
    而且 我填寫食物資訊:
      | 欄位         | 值      |
      | name         | pizza   |
      | carbGrams    | 35.0    |
    而且 我上傳一個 JPEG 格式的圖片
    而且 我提交食物表單
    那麼 我應該看到成功訊息 "食物資料已成功儲存"
    而且 最新的食物應該有圖片
